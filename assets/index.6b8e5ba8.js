import{d as b,r as u,c as v,w as c,v as d,a,o as m,b as k}from"./vendor.2c6920c7.js";const O=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};O();const L={key:0},N=a("label",{for:"parameter"},"parameter",-1),w=a("label",{for:"value"},"value",-1),S={key:1},x=b({setup(y){const s=u({state:"not connected"}),l=u("ws://"),r=u("/avatar/parameters/hoge"),e=u("1");let t;function i(){const p=l.value,o=new WebSocket(p);t=o,o.addEventListener("open",()=>{s.value.state="connected"}),o.addEventListener("message",async n=>{const f=await JSON.parse(n.data),{path:h,value:g}=f;console.log(f),fetch("http://localhost:9090/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:h,value:g})})})}function _(){t.send(JSON.stringify({path:r.value,value:e.value}))}return(p,o)=>s.value.state==="connected"?(m(),v("div",L,[N,c(a("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>r.value=n)},null,512),[[d,r.value]]),w,c(a("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.value=n)},null,512),[[d,e.value]]),a("button",{onClick:_},"send")])):(m(),v("div",S,[c(a("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=n=>l.value=n)},null,512),[[d,l.value]]),a("button",{onClick:i},"connect")]))}});k(x).mount("#app");
