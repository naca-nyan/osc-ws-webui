import{d as b,r as c,c as f,w as u,v as d,a as r,o as v,b as k}from"./vendor.2c6920c7.js";const O=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};O();const L={key:0},N=r("label",{for:"parameter"},"parameter",-1),w=r("label",{for:"value"},"value",-1),S={key:1},x=b({setup(m){const s=c({state:"not connected"}),l=c("ws://"),a=c("/avatar/parameters/hoge"),e=c("1");let t;function i(){const p=l.value,o=new WebSocket(p);t=o,o.addEventListener("open",()=>{s.value.state="connected"}),o.addEventListener("message",async n=>{const _=await JSON.parse(n.data),{path:h,value:g}=_;fetch("http://localhost:9090/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:h,value:g})})})}function y(){t.send(JSON.stringify({path:a,value:e}))}return(p,o)=>s.value.state==="connected"?(v(),f("div",L,[N,u(r("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>a.value=n)},null,512),[[d,a.value]]),w,u(r("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.value=n)},null,512),[[d,e.value]]),r("button",{onClick:y},"send")])):(v(),f("div",S,[u(r("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=n=>l.value=n)},null,512),[[d,l.value]]),r("button",{onClick:i},"connect")]))}});k(x).mount("#app");
